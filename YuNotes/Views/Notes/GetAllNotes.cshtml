@{
    ViewData["Title"] = "Catalog";
}

@model CatalogViewModel

<section class="row">
    <div class="col-2">
        <ul class="list-group">

            <li class="list-group-item">
                <span>All</span>
                <span>
                    <a asp-action="GetAllNotes"><img class="find-img" src="~/img/icons8-find.svg" /></a>
                    <a><img class="delete-img-nonopacity" src="~/img/icons8-delete-30.png" /></a>
                </span>
            </li>
            @foreach(var group in Model.NoteGroups)
            {
                <li class="list-group-item">
                    <span>@group.Name</span>
                    <span>
                        <a asp-action="GetAllNotes" asp-route-groupid="@group.Id"><img class="find-img" src="~/img/icons8-find.svg" /></a>
                        <a asp-action="DeleteGroup" asp-route-id="@group.Id"><img class="delete-img" src="~/img/icons8-delete-30.png" /></a>
                    </span>
                </li>
            }

            <li class="list-group-item">
                <form method="post" asp-action="AddGroup" asp-route-id="@Guid.NewGuid()">
                    <input type="text" asp-for="AddedGroup.Name" />
                    <input type="submit" value="Добавить группу" />
                </form>
            </li>
        </ul>
    </div>

    <div class="col-10">
        <h2>Твои заметки</h2>

        @foreach (var note in Model.Notes)
        {
            <div style="width: 300px">
                <p><span>@note.ViewCreateDate()</span> <span>@note.ViewEditDate()</span></p>
                <h2>@note.Title</h2>
                <h4>@note.Group?.Name</h4>
                <p>@note.Text</p>
                <div class="row">
                    <form class="col" method="post" asp-action="DeleteNote" asp-route-id="@note.Id">
                        <input type="submit" value="Удалить" />
                    </form>

                    <form class="col" method="get" asp-action="GetNote" asp-route-id="@note.Id">
                        <input type="submit" value="Изменить" />
                    </form>
                </div>


            </div>
        }


        <p><a asp-action="GetNote" asp-route-id="@Guid.NewGuid()">Создать заметку</a></p>
    </div>
</section>



